<!doctype html>
<html>
<head>
<title>sprites</title>
	<link  href='sprite.css' rel='stylesheet' type='text/css'></link>
	<script src='spritesound.js'></script>
	<script src='../sound2/sound.js'></script>
<script>
assets = [
	{ w:142, h:200, c:16, r:1, f:15, n:'explosion-1', imageurl:'a/explosion-1.png'},
	{ w:180, h:135, c: 8, r:1, f:15, n:'explosion-2', imageurl:'a/explosion-2.png'},
];
sprites = {};

var urlpattern = '../sound2/a/%sound%.mp3';
var fxfiles = [
	'explosionshort',
	'klunk',
];

window.addEventListener('load', function() {
	for (var i=0; i<assets.length; i++) {
		var asset = assets[i];
		sprites[asset.n] = new Sprite();
		var sprite = sprites[asset.n];
		var container = document.getElementById('fullscreen');
		sprite.setup(container, asset, fxfiles, urlpattern);
	}
}, false);
	
window.addEventListener('click', function(evt) {

	// get x, y
	var x = evt.clientX;
	var y = evt.clientY;
	var ctrl = evt.ctrlKey;
	
	// 
	var name = (ctrl) ? 'explosion-2' : 'explosion-1';
	sprites[name].jumpTo(x,y);
	sprites[name].explode();
	
}, false);

</script>

</head>
<body>
	<p id=msg>loading...</p>
	<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi auctor vehicula malesuada. Sed posuere eget ex ac auctor. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Pellentesque ut laoreet mi. Quisque bibendum leo vel ornare egestas. Quisque ut sem et elit rutrum scelerisque. Sed tincidunt aliquet ligula, sed porta velit malesuada quis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Sed dignissim felis est. Duis ante enim, tincidunt at massa ut, convallis vestibulum libero. Curabitur imperdiet leo sit amet neque mattis, quis tincidunt massa ultrices. Integer pharetra sed ligula et scelerisque. Ut euismod egestas sodales. Praesent fringilla vehicula purus sed blandit.</p>
	<p>Sed egestas tempus nisl eu varius. Cras convallis sodales leo tincidunt consectetur. Nunc nec nibh nec velit mattis ornare. Nunc pharetra dictum nunc, in vestibulum sapien venenatis vel. Nulla non dolor justo. Nulla et lectus et nisl imperdiet condimentum sit amet vel risus. Vivamus imperdiet, sapien in porta viverra, turpis odio luctus sapien, pharetra aliquet erat elit vel metus. Proin finibus arcu at consectetur scelerisque. Suspendisse molestie purus est, eu rhoncus ante aliquam ut. Etiam fermentum dictum libero a finibus. Aliquam eu ligula tincidunt, mattis orci sit amet, pulvinar eros. Nam vel urna in purus vestibulum mollis. Phasellus eleifend facilisis ex in aliquam. Integer at eros condimentum, ornare sem condimentum, imperdiet dui. Donec erat tellus, tincidunt vel cursus nec, tristique vel purus.</p>
	<p>Donec tincidunt congue odio quis pretium. Curabitur volutpat, turpis ut consectetur aliquet, ipsum massa imperdiet quam, in dictum nisl enim elementum arcu. Sed odio massa, elementum ac neque at, sollicitudin lobortis ex. Curabitur sit amet aliquam sem. Cras eget magna maximus velit posuere maximus sed tempor mi. Proin nec mattis ligula. Duis et tristique ligula, vel dictum felis. Maecenas laoreet fringilla lorem vitae sagittis. Donec a massa a metus commodo efficitur vitae vel ligula.</p>
	<p>Fusce sed pellentesque velit. Nam tristique suscipit tellus a lobortis. Fusce euismod velit id mattis posuere. Maecenas eu nisi eget augue ullamcorper eleifend. Proin et ipsum id ante feugiat eleifend at nec est. Phasellus non tortor justo. Etiam id vehicula odio. Mauris sit amet nibh ut nisi tempor pellentesque in et mauris. Suspendisse a rutrum sapien. Nullam accumsan convallis urna vitae elementum. Etiam dapibus nulla id vestibulum mollis. Nunc fermentum ex augue, at elementum justo feugiat sit amet. Sed fringilla sagittis mi, a ornare nunc condimentum rutrum. Aenean at lacus sit amet mauris bibendum aliquet sed nec lacus.</p>
	<canvas id="fullscreen"></canvas>
</body>
</html>
